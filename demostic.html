<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Domestic - Edspiria International</title>
  <meta name="description" content="">
  <meta name="keywords" content="">

  <!-- Favicons -->
  <link href="./assets/img/favicon.png" rel="icon">
  <link href="./assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">
</head>

<body class="contact-page">


  <header id="header" class="header d-flex align-items-center fixed-top">
    <div class="container-fluid container-xl position-relative d-flex align-items-center justify-content-between">

      <a href="index.html" class="logo d-flex align-items-center">
        <img src="./assets/img/logos/favicon.png" alt="EDSPIRIA logo">
        <!-- <img src="./assets/img/logos/longWhite.png" alt="EDSPIRIA logo"> -->
      </a>

      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="index.html" class="active">Home</a></li>
          <li><a href="about-us.html">About</a></li>
          <li><a href="international.html">International</a></li>
          <li><a href="demostic.html">Domestic</a></li>
          <li><a href="blog.html">Blog</a></li>
          <!-- <li><a href="contact.html">Contact</a></li> -->
        </ul>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>
      <div class="call-cta d-none d-lg-flex align-items-center pl-4">
        <i class="bi bi-phone me-2"></i>
        <div>
          <h6 class="text-call mb-1 ">
            <span>
              <a href="contact.html" class="p-0">Contact Us <i class="bi bi-arrow-right ms-2 arrow-right"></i></a>
            </span>
          </h6>
          
        </div>
      </div>

    </div>
  </header>

  <main class="main">

    <!-- Page Title -->
    <div class="page-title-video position-relative overflow-hidden">
      <video autoplay muted loop playsinline class="bg-video">
        <source src="./assets/img/video/domestic1.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
      <div class="container position-relative z-1">
        <h1>Domestic</h1>
        <nav class="breadcrumbs">
          <ol>
            <li><a href="index.html">Home</a></li>
            <li class="current">Domestic</li>
          </ol>
        </nav>
      </div>
    </div>
    <!-- End Page Title -->


    <!-- Faculty & Staff Section -->
    <section id="faculty--staff" class="faculty--staff section">
      <div class="container" data-aos="fade-up" data-aos-delay="100">

        <!-- Search -->
        <div class="row mb-5">
          <div class="col-lg-8 mx-auto">
            <div class="search-container" data-aos="fade-up" data-aos-delay="200">
              <div class="input-group">
                <input type="text" class="form-control" placeholder="Search Domestic Campuses ...">

                <button class="btn search-btn" id="searchBtn" type="button"><i class="bi bi-search"></i></button>
              </div>
            </div>
          </div>
        </div>

        <!-- Filters -->
        <div class="row">
          <div class="col-lg-3">
            <div class="departments-nav mb-4">
              <h4 class="departments-title">Program</h4>
              <ul class="nav flex-column" id="filterProgram"></ul>
            </div>
            <div class="departments-nav mb-4">
              <h4 class="departments-title">Country</h4>
              <ul class="nav flex-column" id="filterCountry"></ul>
            </div>
            <div class="departments-nav mb-4">
              <h4 class="departments-title">Course</h4>
              <ul class="nav flex-column" id="filterCourse"></ul>
            </div>
          </div>

          <!-- Cards -->
          <div class="col-lg-9">
            <div class="department-info mb-4">
              <h3>Domestic Campuses</h3>
            </div>
            <div class="row g-4" id="campusCardContainer">
              <!-- Dynamic Cards here -->
            </div>
          </div>
        </div>
      </div>
    </section>


  </main>

  <footer id="footer" class="footer position-relative dark-background">

    <div class="container footer-top">
      <div class="row gy-4">
        <div class="col-lg-4 col-md-6 footer-about">
          <a href="index.html" class="logo d-flex align-items-center">
            <span class="sitename">
              <img src="./assets/img/logos/favicon.png" alt="">
            </span>
          </a>
          <div class="footer-contact pt-3">
            <p>3rd Floor, 4 Wings Avenue, Panniyankara, </p>
            <p>Kozhikode, Kerala, India - 673003</p>
            <p class="mt-3"><strong>Phone:</strong> <span>+91 8848 241 321</span></p>
            <p class="mt"><strong>Phone:</strong> <span>+91 9400 549 022</span></p>
            <p><strong>Email:</strong> <span>info@edspiriainternational.com</span></p>
          </div>
        </div>

        <div class="col-lg-2 col-md-3 footer-links">
          <h4>Useful Links</h4>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="about-us.html">About us</a></li>
            <li><a href="international.html">International</a></li>
            <li><a href="demostic.html">Domestic</a></li>
            <li><a href="blog.html">Blog</a></li>
            <li><a href="contact.html">Contact Us</a></li>
          </ul>
        </div>

        <div class="col-lg-2 col-md-3 footer-links">
          <h4>We are's</h4>
          <ul>
            <li><a href="./about-us.html">Services</a></li>
            <li><a href="./terms-of-service.html">Terms of service</a></li>
            <li><a href="./privacy.html">Privacy policy</a></li>
            <li><a href="./blog.html">News</a></li>
            <li><a href="#">Sitemap</a></li>
          </ul>
        </div>

        <div class="col-lg-4 col-md-3 footer-links">
          <h4>Follow up</h4>
          <div class="footer-contact pt-1">
            <p>Empowering students to achieve global and domestic academic success through expert guidance and dedicated
              support. Explore new opportunities with Edspiria.</p>
          </div>
          <div class="social-links d-flex mt-4">
            <a href="https://www.facebook.com/edspiriainternational/"><i class="bi bi-facebook"></i></a>
            <a href="https://www.instagram.com/edspiriainternational?igsh=bmZ1a3JwZ2NlNDBw"><i
                class="bi bi-instagram"></i></a>
            <a href="https://www.linkedin.com/company/edspiria-international/"><i class="bi bi-linkedin"></i></a>
          </div>
        </div>
      </div>
    </div>

    <div class="container copyright text-center mt-4">
      <p>© <span>Copyright</span> <strong class="px-1 sitename">EDSPIRIA</strong> <span>All Rights Reserved</span></p>
      <div class="credits">
        Designed by <a href="https://bloombizcreatives.com/">Bloombiz Creatives</a>
      </div>
    </div>

  </footer>


  <!-- Scroll Top -->
  <a href="#" id="scroll-top-btn" class="scroll-top d-flex align-items-center justify-content-center"
    aria-label="Go to top">
    <i class="bi bi-arrow-up-short"></i>
  </a>

  <a href="tel:+918848241321" id="phone-btn" class="scroll-top d-flex align-items-center justify-content-center"
    aria-label="Call Me">
    <i class="bi bi-telephone-fill"></i>
  </a>

  <a href="https://wa.me/+918848241321" id="whatsapp-btn" target="_blank"
    class="scroll-top d-flex align-items-center justify-content-center" aria-label="Chat on WhatsApp">
    <i class="bi bi-whatsapp"></i>
  </a>

  <!-- Preloader -->
  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="assets/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>

  <!-- Main JS File -->
  <script src="assets/js/main.js"></script>

  <script>
    let colleges = []; // full college data
    let backendURL = '';


    // fetch data from API
    fetch('./assets/js/json/config.json')
      .then(res => res.json())
      .then(config => {
        backendURL = config.configApi;
        return fetch(`${backendURL}/college?isDomestic=true`);
      })
      .then(res => res.json())
      .then(data => {
        console.log("data:", data);
        colleges = data?.colleges || [];
        populateFilters(colleges);
        renderCards(colleges);
      })
      .catch(err => console.error(err));


    // Generate filters
    function populateFilters(data) {
      const programSet = new Set();
      const countrySet = new Set();
      const courseSet = new Set();

      data.forEach(item => {
        if (item.category) programSet.add(item.category);
        if (item.country?.name) countrySet.add(item.country.name);
        item.courses.forEach(course => {
          if (course.title) courseSet.add(course.title);
        });
      });

      createFilterList('#filterProgram', Array.from(programSet), 'program');
      createFilterList('#filterCountry', Array.from(countrySet), 'country');
      createFilterList('#filterCourse', Array.from(courseSet), 'course');
    }

    // Create filter buttons
    function createFilterList(containerId, items, type) {
      const container = document.querySelector(containerId);
      if (!container) return;

      container.innerHTML = `<li class="nav-item">
      <button class="nav-link active" data-filter-type="${type}" data-filter-value="all">All</button>
    </li>`;

      items.forEach(val => {
        const li = document.createElement('li');
        li.className = "nav-item";
        li.innerHTML = `<button class="nav-link" data-filter-type="${type}" data-filter-value="${val}">${val}</button>`;
        container.appendChild(li);
      });

      container.addEventListener('click', handleFilterClick);
    }


    // Filtering State
    let selectedFilters = {
      program: 'all',
      country: 'all',
      course: 'all'
    };

    // Handle filter click
    function handleFilterClick(e) {
      if (e.target.tagName !== 'BUTTON') return;
      const type = e.target.dataset.filterType;
      const value = e.target.dataset.filterValue;

      selectedFilters[type] = value;

      e.target.parentElement.parentElement.querySelectorAll('.nav-link').forEach(btn => btn.classList.remove('active'));
      e.target.classList.add('active');

      applyFilters();
    }

    // Apply filters
    function applyFilters() {
      let filtered = colleges.filter(item => {
        const matchProgram = selectedFilters.program === 'all' || item.category === selectedFilters.program;
        const matchCountry = selectedFilters.country === 'all' || item.country?.name === selectedFilters.country;
        const matchCourse = selectedFilters.course === 'all' || item.courses.some(course => course.title === selectedFilters.course);
        return matchProgram && matchCountry && matchCourse;
      });

      renderCards(filtered);
    }


    function renderCards(data) {
      const container = document.querySelector('#campusCardContainer');
      container.innerHTML = '';

      if (data.length === 0) {
        container.innerHTML = '<div class="col-12"><p class="text-center">No colleges found.</p></div>';
        return;
      }

      data.forEach(item => {
        const coursesList = item.courses.map(course => course.title).join(", ");
        const collegeImage = item.image && !item.image.startsWith('http') ? `${backendURL}${item.image}` : item.image;
        const countryFlag = item.country?.image && !item.country.image.startsWith('http')
          ? `${backendURL}${item.country.image}`
          : item.country?.image || './assets/img/placeholder-country.png';

        const card = document.createElement('div');
        card.className = 'col-md-6 col-lg-4';
        card.innerHTML = `
      <div class="faculty-card">
        <div class="faculty-image">
          <img 
            src="${collegeImage || './assets/img/defult/noimage.png'}" 
            alt="${item.name}" 
            class="img-fluid"
            onerror="this.onerror=null; this.src='./assets/img/placeholder-college.jpg';"
          />
        </div>
        <div class="faculty-info">
          <h4>${item.name}</h4> 
          <p class="faculty-title">${item.desc || ''}</p>
          <div class="faculty-specialties">
            <span><strong>${item.category || 'N/A'}</strong></span>
            <span><strong>${item.country?.name || 'N/A'}</strong></span>
            <span><strong>${coursesList || 'N/A'}</strong></span>
          </div>
          <div class="faculty-contact mt-3">
            <a href="${item.website}" target="_blank" class="btn btn-primary btn-sm me-2">
              <i class="bi bi-globe"></i> Website
            </a>
            <a href="https://maps.google.com?q=${encodeURIComponent(item.address)}" target="_blank" class="btn btn-outline-primary btn-sm">
              <i class="bi bi-map"></i> Campus Map
            </a>
          </div>
          <div class="faculty-meta mt-2">
            <small class="text-muted">
              <strong>Phone: ${item.phone}</strong><br>
              <strong>Email: ${item.email}</strong><br>
              <div class="row justify-content-center align-items-center mt-2">
                <div class="col-6 text-start">
                  ${item.status === 'recommended' ? '<span class="badge bg-success">Recommended</span>' : ''}
                </div>
                <div class="col-6 text-end">
                  <img 
                    src="${countryFlag}" 
                    alt="${item.country?.name || 'N/A'}" 
                    height="40px"
                    onerror="this.onerror=null; this.src='./assets/img/placeholder-country.png';"
                  />
                </div>
              </div>
            </small>
          </div>
        </div>
      </div>
    `;
        container.appendChild(card);
      });
    }
  </script>


</body>

</html>